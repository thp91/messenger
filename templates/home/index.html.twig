{% extends 'base.html.twig' %}

{% block title %}Hello!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    .d-none { display: none; }
</style>

<div class="example-wrapper">
    <h1>Hello {% if app.user %} {{ app.user.pseudo }} {% else %} {{ controller_name }} {% endif %}! ✅</h1>

    {% if app.user %}
    <ul>
    {% for user in users %}
    <li class="{% if user.pseudo == app.user.pseudo %}d-none{% endif %}">
    <a href="{{ path('app_messages_show', {id: user.id} ) }}">{{ user.pseudo }}</a>
    </li>
    {% endfor %}
</ul>
    {% else %}
    <h2>Connectez vous pour discuter!</h2>
    {% endif %}

    <ul>
        <a href="{{ path('app_login') }}">Login</a>
        <a href="{{ path('app_register') }}">Register</a>
        <a href="{{ path('app_messages') }}">Message</a>
        <a href="{{ path('app_logout') }}">Se déconnecter</a>
    </ul>
</div>
{% endblock %}
